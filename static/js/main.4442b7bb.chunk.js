(this["webpackJsonpsmart-mirror-core"]=this["webpackJsonpsmart-mirror-core"]||[]).push([[0],{124:function(e,t,n){e.exports=n(201)},129:function(e,t,n){},133:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},194:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABJCAYAAACXWsCYAAAACXBIWXMAAAsSAAALEgHS3X78AAAEHUlEQVR4nO2cUW7TQBCGhwgJCSE1CCSkvhSEeMEPCYj3plwg4QQu4gAUX4DmApZv0PgG6QloTkDy4PfmhWdyglRrxmJjO87OemdtR/tJeUic7GZ/z453Z8Z+tN1ugYskgUsAmADACABO2DriYQEASwCIPA/usx5YBEsS6APAHADOGx+2Gb56HsxESz2mDo5JLMFNkqQzBR6bbhmnYZlYa4D/pt1yhiUuRFhY37hg6LNkNuIzz4O7joiVkiQQAcB36aOTJIERx5Ts595fd00sgefBFTp+GRbB8iwt9MFF4UTbEOyocIIRsSFYV66MSrALJq+SjwE3JYk4wYg4wYg4wYg4wYg4wYhwCDZk/ccNwyFY1yKrJNyUJOIEI+IEI8IRcb1g/ccNY1ywLkZXKbgpScSYhQVxmvwYYtJWZomvu9DvRqgniNO8xOjzWxi9eb57rFYiN4jhtUhyYKZIZf11KzLJod/OaSuNxxfvP54CfDjd+cpUW7AgThu+0lyoCuEuQx/+anXOQBAX0mpmBENzNZHZFondSeg3m1XC8QiLH+SPlQlGcvpS4ybKAM5EW0Hc3N6zSqx9UK+SM0rjCojpPMc/3gQksYAiWBCnNRNjhkGd4YmwCvpg8slXEgwtQDhFLsZBXFiOsIFXw5867ata2KWFsM01c/syV7o/pAjGzTmeeRtoj+egYDgIk46+CvZpiVNfe7aoWJitsw6Wwtu1+lARzJoztiRYrSWMi1YQcYIRURGsNRvkNqAimM3NsY2wT62YXNsEs9FXrT4OCoYxq9s6nRBgtzAMJ611f6/q9Oe6HRCILQYUtffFSoKFfhpNWOl2oojNveQMb7ggQ1lWaG9YFZjaTJCgJWvtJ5UFw8TFVKeTA6xC36p1pYR+6mZi6u9IC1ccGLmTClaWt147hH5qZaTxkFf62IkJSxP38YyazhxRRdPaGqGlXWhenoWz/RH6zYuVgaJ9URlP7TtyMda/7x5JmTVezmdtykfmwfGIC9zAaCK3pKN+ValAV8oEMsR4xu8hevn0XxYcMSfYMZIkqeuRkyVTjvqwzpLLXC2/fSqOZK9gmJHOHqFQdg80Bwup0sfodgxdxgRfQ8yHVvL7T8GHFZ0+ChW14KkAG6z0qbWoRaGu84UmKhx0+niFiFpWOr7SXa9hxmuum/WqLEbB+XvTwjr7gU7YR6oyMpoi7OUabysDtH4KEUc+NbMwG6UAdVH2ZTgVfYWvkpEFaztnhFqy/MNGjAtmqxSgLqqCsUVAek1WAGqgWrbAVqDX42y8QdjWkC7zTcQJRsQJVsGzJ4Vj906wPXivAN69KBy762x4Rzz8DAB+lR0rC8sYYCEei+MsTI1Ntrh3gh1GxOiG2UOXsimZf3RdW5HzAmL9yPm/RSBzvnPDLAA8AO/AAtd60JWBAAAAAElFTkSuQmCC"},201:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),c=n.n(o),i=(n(129),n(130),n(131),n(132),n(133),n(103)),l=n(9),s=n(204),u=n(102),m=n(227),d=n(205),g=n(206),p=r.a.createElement(i.a,null,"Open Modal"),h=r.a.createContext({}),b=function(){var e,t=Object(a.useContext)(h),n=r.a.createElement(i.a,{size:"sm",className:"btn-pill",color:"primary"},"User Profile"),o=(e=t.mongoHook.authenticatedUser,{display:r.a.createElement(s.a,{responive:!0,hover:!0,striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Key"),r.a.createElement("td",null,"Value"))),r.a.createElement("tbody",null,Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return r.a.createElement("tr",null,r.a.createElement("td",null,n,":"),r.a.createElement("td",null,Object(u.inspect)(a)))}))))});return{userModalHook:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,o=Object(a.useState)(!1),c=Object(l.a)(o,2),i=c[0],s=c[1],u=r.a.createElement(m.a,{style:{minWidth:"80vw"},isOpen:i,toggle:function(){return s(!i)}},r.a.createElement(d.a,{toggle:function(){return s(!i)}},t||"Modal"),r.a.createElement(g.a,null,e||r.a.createElement("div",null,"\ud83c\udfd7\ufe0fNothing to see here..\ud83c\udfd7\ufe0f"))),h=r.a.createElement(r.a.Fragment,null,r.a.cloneElement(n,{onClick:function(){return s(!i)}}),u);return{display:u,modalButton:h,modalIsOpen:i,setModalIsOpen:s}}(o.display,"User Profile",n),authenticatedUser:t.mongoHook.authenticatedUser,profileTableHook:o}},f=function(){var e=Object(a.useContext)(h),t=b();return r.a.createElement("div",{style:{width:"100%",height:"5%",backgroundColor:"black",color:"white"}},r.a.createElement("h1",null,"Smart Mirror Core"),r.a.createElement(i.a,{color:"danger",onClick:function(){return e.mongoHook.logout()}},"Log Out"),t.userModalHook.modalButton)},E=n(104),v=n.n(E),y=n(105),O=n(106),w=n.n(O),k=n(107),j=n(224),A=n(223),C=function(e){var t=e.cameraAPI,n=t.setWidthConstraint,a=t.setComponentWidth,o=t.setHeightConstraint,c=t.setComponentHeight,i=e.coreAPI,l=i.videoConstraints,s=i.width,u=i.height;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{styles:{root:{maxWidth:300}}},r.a.createElement(A.a,{label:"Video Constraint: Width",min:1,max:2e3,step:1,defaultValue:l.width,showValue:!0,onChange:function(e){return n(e)}}),r.a.createElement(A.a,{label:"Component Width",min:1,max:2e3,step:1,defaultValue:s,showValue:!0,onChange:function(e){return a(e)}})),r.a.createElement(j.a,{horizontal:!0,styles:{root:{height:200}}},r.a.createElement(A.a,{label:"Video Constraint: Height",min:1,max:1e3,step:1,defaultValue:l.height,showValue:!0,vertical:!0,onChange:function(e){return o(e)}}),r.a.createElement(A.a,{label:"Component Height",min:1,max:1e3,step:1,defaultValue:u,showValue:!0,vertical:!0,onChange:function(e){return c(e)}})))},S=(n(159),n(160),n(112)),x=n.n(S),L=n(113),F=n.n(L),P=function(e){var t=Object(a.useState)(new Date),n=Object(l.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)((function(){setInterval((function(){return c(new Date)}),1e3)}),[]),r.a.createElement("div",null,r.a.createElement(k.Clock,{value:o}))},N=function(e){var t=Object(a.useState)(1280),n=Object(l.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(720),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)(500),g=Object(l.a)(d,2),p=g[0],h=g[1],b=Object(a.useState)(500),f=Object(l.a)(b,2),E=f[0],O=f[1],k=Object(a.useState)(!1),j=Object(l.a)(k,2),A=j[0],S=j[1],L={webcamRef:Object(a.useRef)(null),videoConstraints:{width:o,height:u,facingMode:"user"},width:p,height:E,audio:A},N={setWidthConstraint:c,setHeightConstraint:m,setComponentWidth:h,setComponentHeight:O,setComponentAudio:S},R=[r.a.createElement("div",{key:"camera-widget","data-grid":{x:4,y:4,w:5,h:10}},r.a.createElement(y.a,{coreAPI:L})),r.a.createElement("div",{key:"clock-widget","data-grid":{x:12,y:0,w:2,h:4},style:{background:"dimGrey"}},r.a.createElement(P,{coreAPI:L})),r.a.createElement("div",{key:"camera-settings","data-grid":{x:0,y:10,w:2,h:10}},r.a.createElement(C,{cameraAPI:N,coreAPI:L})),r.a.createElement("div",{key:"weather-widget","data-grid":{x:12,y:10,w:2,h:13}},r.a.createElement(x.a,{style:{color:"white"},forecast:"5days",apikey:"3a672a5bca657693859413a963d7b698",type:"city",city:"Spokane",unit:"imperial"})),r.a.createElement("div",{key:"calendar-widget","data-grid":{x:0,y:0,w:3,minW:3,h:8}},r.a.createElement(F.a,{value:new Date})),r.a.createElement("div",{key:"digital-clock-widget","data-grid":{x:6,y:0,w:2,h:1}},r.a.createElement(w.a,null))];return r.a.createElement("div",null,r.a.createElement(v.a,{style:{background:"black"},cols:12,rowHeight:30,width:1200},R.map((function(e){return r.a.cloneElement(e)}))))},R=function(e){return r.a.createElement(N,null)},W=n(47),I=n.n(W),Y=n(64),z=n(41),H=n(211),D=n(212),T=n(213),M=n(214),U=n(215),V=n(226),G=n(216),B=n(217),J=n(218),Q=n(219),q=n(220),X=n(221),Z=n(225),K=n(222),_=n(80),$=n.n(_),ee=function(e){var t=Object(a.useState)("lichtschwert@live.com"),o=Object(l.a)(t,2),c=o[0],s=o[1],u=Object(a.useState)("FakePassword"),m=Object(l.a)(u,2),d=m[0],g=m[1],p=function(){var t=Object(Y.a)(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mongoHook.login(c,d);case 2:t.sent&&w();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=Object(a.useState)(!1),b=Object(l.a)(h,2),f=b[0],E=b[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),O=y[0],w=y[1];return r.a.createElement("div",{id:"loginPage"},r.a.createElement(H.a,{style:$.a,id:"navbar",light:!0,expand:"md"},r.a.createElement("img",{src:n(194)}),r.a.createElement(D.a,{id:"companyName",stlye:$.a,href:"/"},"OpTech"),r.a.createElement(T.a,{onClick:function(){return E(!f)}}),r.a.createElement(M.a,{isOpen:f,navbar:!0},r.a.createElement(U.a,{className:"ml-auto",navbar:!0},r.a.createElement(V.a,{nav:!0,inNavbar:!0},r.a.createElement(G.a,{id:"dropdown",nav:!0,caret:!0},"Developers"),r.a.createElement(B.a,{right:!0,id:"dropdownMenu"},r.a.createElement(J.a,{className:"dropdownItem",href:"https://github.com/blazinaj/smart-mirror-core/tree/master"},"Github")))))),r.a.createElement(Q.a,{color:"info",isOpen:O,toggle:function(){return w(!1)}},"Incorrect email or password!"),r.a.createElement(q.a,null,r.a.createElement("div",{class:"col-xs-9 col-md-7",id:"inputFieldsLogin"},r.a.createElement(X.a,{className:"inputGroupLogin"},r.a.createElement(Z.a,{className:"pre-pend",addonType:"prepend"},"Email"),r.a.createElement(K.a,{className:"inputField",type:"email",value:c,placeholder:"Email...",onChange:function(e){return s(e.target.value)}})),r.a.createElement("br",null),r.a.createElement(X.a,{className:"inputGroupLogin"},r.a.createElement(Z.a,{className:"pre-pend",addonType:"prepend"},"Password"),r.a.createElement(K.a,{className:"inputField",type:"password",value:d,placeholder:"Password...",onChange:function(e){return g(e.target.value)}}))),r.a.createElement(i.a,{className:"authButton",onClick:function(){return p()}},"Login"),r.a.createElement(i.a,{className:"authButton",onClick:function(){return e.mongoHook.register(c,d)}},"Register")))};ee.defaultProps={mongoHook:{}};var te=ee,ne=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),o=(n[0],n[1]);Object(a.useEffect)((function(){o(z.a.initializeDefaultAppClient("smart-mirror-jshfq"))}),[]);var c=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)({}),i=Object(l.a)(c,2),s=i[0],u=i[1];return{isLoggedIn:r,login:function(){var e=Object(Y.a)(I.a.mark((function e(t,n){var a,r,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z.a.defaultAppClient,r=new z.c(t,n),e.next=4,a.auth.loginWithCredential(r).then((function(e){console.log("successfully logged in with id: ".concat(e.id)),u(e),o(!0)})).catch((function(e){console.error("login failed with error: ".concat(e)),c=e}));case 4:return e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),register:function(e,t){z.a.defaultAppClient.auth.getProviderClient(z.b.factory).registerWithEmail(e,t).then((function(){return console.log("Successfully sent account confirmation email!")})).catch((function(e){return console.error("Error registering new user:",e)}))},logout:function(){u({}),o(!1)},authenticatedUser:s}}();return r.a.createElement(r.a.Fragment,null,c.isLoggedIn?r.a.createElement(h.Provider,{value:{mongoHook:c}},e.children):r.a.createElement(te,{mongoHook:c}))},ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ne,null,r.a.createElement(f,null),r.a.createElement(R,null)))},re=n(119),oe=n(37);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=n(44),ie=n(30),le=n(31),se=n(35),ue=n(32),me=n(7),de=n(36),ge={white:"#fff",background:"#eceff1",color:"#123",lightColor:"#567",red:"#d62d20"},pe={boxShadow:"0 0 15px rgba(0,0,0,0.25)",background:ge.background,borderRadius:"5px",color:ge.color,display:"flex",flexDirection:"column",minWidth:"10em",maxWidth:"25em"},he={border:0,height:0,borderTop:"1px solid rgba(0, 0, 0, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.3)",margin:"1rem 0"};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(n,!0).forEach((function(t){Object(ce.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(e){var t=e.label,n=e.data;return r.a.createElement("div",{style:{fontSize:".8rem"}},r.a.createElement("label",{style:{color:ge.lightColor,paddingRight:".25rem"}},t," :"),r.a.createElement("span",null,n))},ve=function(e){var t=e.token;return r.a.createElement("div",{style:{fontSize:".8rem"}},r.a.createElement("label",{style:{color:ge.lightColor,paddingRight:".25rem"}},"Access token :"),r.a.createElement("div",{style:{fontFamily:"monospace",wordWrap:"break-word",margin:".5em 0",padding:".5em",fontSize:"85%",backgroundColor:"rgba(27,31,35,0.05)",borderRadius:"3px"}},t))},ye=function(e){function t(){return Object(ie.a)(this,t),Object(se.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(de.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=t._profile,a=t._token,o=e.logout,c="unknown";if(a.expiresAt===1/0)c="never/unknown (see provider doc)";else if(a.expiresAt){var i=new Date(a.expiresAt),l=i.getFullYear(),s=i.getMonth()+1,u=i.getDate(),m=i.getHours(),d=i.getMinutes();s<10&&(s="0".concat(s)),u<10&&(u="0".concat(u)),m<10&&(m="0".concat(m)),d<10&&(d="0".concat(d)),c="".concat(s,"/").concat(u,"/").concat(l," ").concat(m,":").concat(d)}var g={container:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"left"},avatar:{background:ge.background,boxShadow:"0 0 12px rgba(0,0,0,0.5)",border:"5px solid ".concat(ge.white),borderRadius:"50%",height:"7em",width:"7em",zIndex:"1"},content:fe({},pe,{marginTop:"-.75rem"}),dataContainer:{padding:"1.5rem 2rem"},id:{fontSize:".5rem",margin:"-.2rem 0"},name:{fontSize:"1.5rem",marginBottom:".5rem"},button:{color:ge.red,border:"none",width:"100%",padding:".5rem",fontSize:"1em",textTransform:"uppercase"}},p=n.profilePicURL||"https://maxcdn.icons8.com/Share/icon/p1em/users//gender_neutral_user1600.png";return r.a.createElement("div",{style:g.container},r.a.createElement("img",{style:g.avatar,src:p,alt:"userCard"}),r.a.createElement("div",{style:g.content},r.a.createElement("div",{style:g.dataContainer},r.a.createElement("div",{style:g.id},"ID ",n.id),r.a.createElement("div",{style:g.name},n.name),r.a.createElement(Ee,{label:"Firstname",data:n.firstName}),r.a.createElement(Ee,{label:"Lastname",data:n.lastName}),r.a.createElement(Ee,{label:"Email",data:n.email}),r.a.createElement(Ee,{label:"Expiration",data:c}),r.a.createElement(ve,{token:a.accessToken})),r.a.createElement("button",{style:g.button,onClick:o},"Logout")))}}]),t}(a.Component),Oe=n(117),we=n(118),ke=n.n(we),je=function(e){function t(){return Object(ie.a)(this,t),Object(se.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(de.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.triggerLogin,a=(e.triggerLogout,Object(Oe.a)(e,["children","triggerLogin","triggerLogout"]));return r.a.createElement("div",Object.assign({onClick:n,style:{background:"#eee",border:"1px solid black",borderRadius:"3px",display:"inline-block",margin:"5px",padding:"10px 20px"}},a),t)}}]),t}(a.Component),Ae=ke()(je);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(n,!0).forEach((function(t){Object(ce.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){function t(e){var n;return Object(ie.a)(this,t),(n=Object(se.a)(this,Object(ue.a)(t).call(this,e))).state={logged:!1,user:{},currentProvider:""},n.nodes={},n.onLoginSuccess=n.onLoginSuccess.bind(Object(me.a)(n)),n.onLoginFailure=n.onLoginFailure.bind(Object(me.a)(n)),n.onLogoutSuccess=n.onLogoutSuccess.bind(Object(me.a)(n)),n.onLogoutFailure=n.onLogoutFailure.bind(Object(me.a)(n)),n.logout=n.logout.bind(Object(me.a)(n)),n}return Object(de.a)(t,e),Object(le.a)(t,[{key:"setNodeRef",value:function(e,t){t&&(this.nodes[e]=t)}},{key:"onLoginSuccess",value:function(e){console.log(e),this.setState({logged:!0,currentProvider:e._provider,user:e})}},{key:"onLoginFailure",value:function(e){console.error(e),this.setState({logged:!1,currentProvider:"",user:{}})}},{key:"onLogoutSuccess",value:function(){this.setState({logged:!1,currentProvider:"",user:{}})}},{key:"onLogoutFailure",value:function(e){console.error(e)}},{key:"logout",value:function(){var e=this.state,t=e.logged,n=e.currentProvider;t&&n&&this.nodes[n].props.triggerLogout()}},{key:"render",value:function(){var e;return this.state.logged?e=r.a.createElement(ye,{user:this.state.user,logout:this.logout}):(e=[r.a.createElement(Ae,{provider:"facebook",appId:0x8f40870839fd6,onLoginSuccess:this.onLoginSuccess,onLoginFailure:this.onLoginFailure,onLogoutSuccess:this.onLogoutSuccess,getInstance:this.setNodeRef.bind(this,"facebook"),key:"facebook"},"Login with Facebook"),r.a.createElement(Ae,{provider:"google",appId:"9137971612-s5rhj4kmstu603gdk3ndlobruav0fc7d.apps.googleusercontent.com",onLoginSuccess:this.onLoginSuccess,onLoginFailure:this.onLoginFailure,onLogoutSuccess:this.onLogoutSuccess,onLogoutFailure:this.onLogoutFailure,getInstance:this.setNodeRef.bind(this,"google"),key:"google"},"Login with Google")],"https:"===window.location.protocol&&e.push(r.a.createElement(Ae,{provider:"amazon",appId:"amzn1.application-oa2-client.e726e756e5c94453836bd8aab285f54b",onLoginSuccess:this.onLoginSuccess,onLoginFailure:this.onLoginFailure,onLogoutSuccess:this.onLogoutSuccess,getInstance:this.setNodeRef.bind(this,"amazon"),key:"amazon"},"Login with Amazon"))),e}}]),t}(a.Component),Le=function(){return document.body.style.backgroundColor="black",r.a.createElement("div",{style:Se({},pe,{padding:"1.5rem 2rem",margin:"5em auto",backgroundColor:"lightblue"})},r.a.createElement("strong",null,"Login:"),r.a.createElement("hr",{style:he}),r.a.createElement(xe,null))},Fe=r.a.createElement(re.a,null,r.a.createElement("div",null,r.a.createElement(oe.c,null,r.a.createElement(oe.a,{exact:!0,path:"/",component:ae}),r.a.createElement(oe.a,{path:"/config",component:Le}))));c.a.render(Fe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.4442b7bb.chunk.js.map