(this["webpackJsonpsmart-mirror-core"]=this["webpackJsonpsmart-mirror-core"]||[]).push([[0],{109:function(e,t,n){e.exports=n(183)},114:function(e,t,n){},118:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(20),i=n.n(r),c=(n(114),n(115),n(116),n(117),n(118),n(187)),l=n(9),u=n(186),s=n(89),d=n(200),g=n(188),m=n(189),h=o.a.createElement(c.a,null,"Open Modal"),f=o.a.createContext({}),b=function(){var e,t=Object(a.useContext)(f),n=o.a.createElement(c.a,{size:"sm",className:"btn-pill",color:"primary"},"User Profile"),r=(e=t.mongoHook.authenticatedUser,{display:o.a.createElement(u.a,{responive:!0,hover:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("td",null,"Key"),o.a.createElement("td",null,"Value"))),o.a.createElement("tbody",null,Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return o.a.createElement("tr",null,o.a.createElement("td",null,n,":"),o.a.createElement("td",null,Object(s.inspect)(a)))}))))});return{userModalHook:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=Object(a.useState)(!1),i=Object(l.a)(r,2),c=i[0],u=i[1],s=o.a.createElement(d.a,{style:{minWidth:"80vw"},isOpen:c,toggle:function(){return u(!c)}},o.a.createElement(g.a,{toggle:function(){return u(!c)}},t||"Modal"),o.a.createElement(m.a,null,e||o.a.createElement("div",null,"\ud83c\udfd7\ufe0fNothing to see here..\ud83c\udfd7\ufe0f"))),f=o.a.createElement(o.a.Fragment,null,o.a.cloneElement(n,{onClick:function(){return u(!c)}}),s);return{display:s,modalButton:f,modalIsOpen:c,setModalIsOpen:u}}(r.display,"User Profile",n),authenticatedUser:t.mongoHook.authenticatedUser,profileTableHook:r}},p=function(){var e=Object(a.useContext)(f),t=b();return o.a.createElement("div",{style:{width:"100%",height:"5%",backgroundColor:"black",color:"white"}},o.a.createElement("h1",null,"Smart Mirror Core"),o.a.createElement(c.a,{color:"danger",onClick:function(){return e.mongoHook.logout()}},"Log Out"),t.userModalHook.modalButton)},v=n(90),E=n.n(v),y=n(91),O=n(92),w=n.n(O),k=n(93),j=n(199),C=n(198),S=function(e){var t=e.cameraAPI,n=t.setWidthConstraint,a=t.setComponentWidth,r=t.setHeightConstraint,i=t.setComponentHeight,c=e.coreAPI,l=c.videoConstraints,u=c.width,s=c.height;return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{styles:{root:{maxWidth:300}}},o.a.createElement(C.a,{label:"Video Constraint: Width",min:1,max:2e3,step:1,defaultValue:l.width,showValue:!0,onChange:function(e){return n(e)}}),o.a.createElement(C.a,{label:"Component Width",min:1,max:2e3,step:1,defaultValue:u,showValue:!0,onChange:function(e){return a(e)}})),o.a.createElement(j.a,{horizontal:!0,styles:{root:{height:200}}},o.a.createElement(C.a,{label:"Video Constraint: Height",min:1,max:1e3,step:1,defaultValue:l.height,showValue:!0,vertical:!0,onChange:function(e){return r(e)}}),o.a.createElement(C.a,{label:"Component Height",min:1,max:1e3,step:1,defaultValue:s,showValue:!0,vertical:!0,onChange:function(e){return i(e)}})))},L=(n(144),n(145),n(98)),x=n.n(L),P=n(99),A=n.n(P),F=function(e){var t=Object(a.useState)(new Date),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){setInterval((function(){return i(new Date)}),1e3)}),[]),o.a.createElement("div",null,o.a.createElement(k.Clock,{value:r}))},I=function(e){var t=Object(a.useState)(1280),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(720),u=Object(l.a)(c,2),s=u[0],d=u[1],g=Object(a.useState)(500),m=Object(l.a)(g,2),h=m[0],f=m[1],b=Object(a.useState)(500),p=Object(l.a)(b,2),v=p[0],O=p[1],k=Object(a.useState)(!1),j=Object(l.a)(k,2),C=j[0],L=j[1],P={webcamRef:Object(a.useRef)(null),videoConstraints:{width:r,height:s,facingMode:"user"},width:h,height:v,audio:C},I={setWidthConstraint:i,setHeightConstraint:d,setComponentWidth:f,setComponentHeight:O,setComponentAudio:L},W=[o.a.createElement("div",{key:"camera-widget","data-grid":{x:4,y:4,w:5,h:10}},o.a.createElement(y.a,{coreAPI:P})),o.a.createElement("div",{key:"clock-widget","data-grid":{x:12,y:0,w:2,h:4},style:{background:"dimGrey"}},o.a.createElement(F,{coreAPI:P})),o.a.createElement("div",{key:"camera-settings","data-grid":{x:0,y:10,w:2,h:10}},o.a.createElement(S,{cameraAPI:I,coreAPI:P})),o.a.createElement("div",{key:"weather-widget","data-grid":{x:12,y:10,w:2,h:13}},o.a.createElement(x.a,{style:{color:"white"},forecast:"5days",apikey:"3a672a5bca657693859413a963d7b698",type:"city",city:"Spokane",unit:"imperial"})),o.a.createElement("div",{key:"calendar-widget","data-grid":{x:0,y:0,w:3,minW:3,h:8}},o.a.createElement(A.a,{value:new Date})),o.a.createElement("div",{key:"digital-clock-widget","data-grid":{x:6,y:0,w:2,h:1}},o.a.createElement(w.a,null))];return o.a.createElement("div",null,o.a.createElement(E.a,{style:{background:"black"},cols:12,rowHeight:30,width:1200},W.map((function(e){return o.a.cloneElement(e)}))))},W=function(e){return o.a.createElement(I,null)},H=n(33),D=n(194),R=n(195),z=n(196),N=n(197),V=function(e){var t=Object(a.useState)("blazinaj@hotmail.com"),n=Object(l.a)(t,2),r=n[0],i=n[1],u=Object(a.useState)("CSCD488"),s=Object(l.a)(u,2),d=s[0],g=s[1];return o.a.createElement(D.a,null,o.a.createElement(R.a,null,"Login"),o.a.createElement(z.a,null,o.a.createElement(N.a,{value:r,placeholder:"Email",onChange:function(e){return i(e.target.value)}}),o.a.createElement(N.a,{value:d,placeholder:"Password",onChange:function(e){return g(e.target.value)}}),o.a.createElement(c.a,{onClick:function(){return e.mongoHook.login(r,d)}},"Login"),o.a.createElement(c.a,{onClick:function(){return e.mongoHook.register(r,d)}},"Register")))};V.defaultProps={mongoHook:{}};var U=V,M=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),r=(n[0],n[1]);Object(a.useEffect)((function(){r(H.a.initializeDefaultAppClient("smart-mirror-jshfq"))}),[]);var i=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),o=n[0],r=n[1],i=Object(a.useState)({}),c=Object(l.a)(i,2),u=c[0],s=c[1];return{isLoggedIn:o,login:function(e,t){var n=H.a.defaultAppClient,a=new H.c(e,t);n.auth.loginWithCredential(a).then((function(e){console.log("successfully logged in with id: ".concat(e.id)),s(e),r(!0)})).catch((function(e){return console.error("login failed with error: ".concat(e))}))},register:function(e,t){H.a.defaultAppClient.auth.getProviderClient(H.b.factory).registerWithEmail(e,t).then((function(){return console.log("Successfully sent account confirmation email!")})).catch((function(e){return console.error("Error registering new user:",e)}))},logout:function(){s({}),r(!1)},authenticatedUser:u}}();return o.a.createElement(o.a.Fragment,null,i.isLoggedIn?o.a.createElement(f.Provider,{value:{mongoHook:i}},e.children):o.a.createElement(U,{mongoHook:i}))},T=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(M,null,o.a.createElement(p,null),o.a.createElement(W,null)))},B=n(103),_=n(30),G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var q=n(36),K=n(24),Y=n(25),$=n(29),Q=n(26),X=n(7),Z=n(28),ee={white:"#fff",background:"#eceff1",color:"#123",lightColor:"#567",red:"#d62d20"},te={boxShadow:"0 0 15px rgba(0,0,0,0.25)",background:ee.background,borderRadius:"5px",color:ee.color,display:"flex",flexDirection:"column",minWidth:"10em",maxWidth:"25em"},ne={border:0,height:0,borderTop:"1px solid rgba(0, 0, 0, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.3)",margin:"1rem 0"};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){var t=e.label,n=e.data;return o.a.createElement("div",{style:{fontSize:".8rem"}},o.a.createElement("label",{style:{color:ee.lightColor,paddingRight:".25rem"}},t," :"),o.a.createElement("span",null,n))},ie=function(e){var t=e.token;return o.a.createElement("div",{style:{fontSize:".8rem"}},o.a.createElement("label",{style:{color:ee.lightColor,paddingRight:".25rem"}},"Access token :"),o.a.createElement("div",{style:{fontFamily:"monospace",wordWrap:"break-word",margin:".5em 0",padding:".5em",fontSize:"85%",backgroundColor:"rgba(27,31,35,0.05)",borderRadius:"3px"}},t))},ce=function(e){function t(){return Object(K.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=t._profile,a=t._token,r=e.logout,i="unknown";if(a.expiresAt===1/0)i="never/unknown (see provider doc)";else if(a.expiresAt){var c=new Date(a.expiresAt),l=c.getFullYear(),u=c.getMonth()+1,s=c.getDate(),d=c.getHours(),g=c.getMinutes();u<10&&(u="0".concat(u)),s<10&&(s="0".concat(s)),d<10&&(d="0".concat(d)),g<10&&(g="0".concat(g)),i="".concat(u,"/").concat(s,"/").concat(l," ").concat(d,":").concat(g)}var m={container:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"left"},avatar:{background:ee.background,boxShadow:"0 0 12px rgba(0,0,0,0.5)",border:"5px solid ".concat(ee.white),borderRadius:"50%",height:"7em",width:"7em",zIndex:"1"},content:oe({},te,{marginTop:"-.75rem"}),dataContainer:{padding:"1.5rem 2rem"},id:{fontSize:".5rem",margin:"-.2rem 0"},name:{fontSize:"1.5rem",marginBottom:".5rem"},button:{color:ee.red,border:"none",width:"100%",padding:".5rem",fontSize:"1em",textTransform:"uppercase"}},h=n.profilePicURL||"https://maxcdn.icons8.com/Share/icon/p1em/users//gender_neutral_user1600.png";return o.a.createElement("div",{style:m.container},o.a.createElement("img",{style:m.avatar,src:h,alt:"userCard"}),o.a.createElement("div",{style:m.content},o.a.createElement("div",{style:m.dataContainer},o.a.createElement("div",{style:m.id},"ID ",n.id),o.a.createElement("div",{style:m.name},n.name),o.a.createElement(re,{label:"Firstname",data:n.firstName}),o.a.createElement(re,{label:"Lastname",data:n.lastName}),o.a.createElement(re,{label:"Email",data:n.email}),o.a.createElement(re,{label:"Expiration",data:i}),o.a.createElement(ie,{token:a.accessToken})),o.a.createElement("button",{style:m.button,onClick:r},"Logout")))}}]),t}(a.Component),le=n(101),ue=n(102),se=n.n(ue),de=function(e){function t(){return Object(K.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.triggerLogin,a=(e.triggerLogout,Object(le.a)(e,["children","triggerLogin","triggerLogout"]));return o.a.createElement("div",Object.assign({onClick:n,style:{background:"#eee",border:"1px solid black",borderRadius:"3px",display:"inline-block",margin:"5px",padding:"10px 20px"}},a),t)}}]),t}(a.Component),ge=se()(de);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=function(e){function t(e){var n;return Object(K.a)(this,t),(n=Object($.a)(this,Object(Q.a)(t).call(this,e))).state={logged:!1,user:{},currentProvider:""},n.nodes={},n.onLoginSuccess=n.onLoginSuccess.bind(Object(X.a)(n)),n.onLoginFailure=n.onLoginFailure.bind(Object(X.a)(n)),n.onLogoutSuccess=n.onLogoutSuccess.bind(Object(X.a)(n)),n.onLogoutFailure=n.onLogoutFailure.bind(Object(X.a)(n)),n.logout=n.logout.bind(Object(X.a)(n)),n}return Object(Z.a)(t,e),Object(Y.a)(t,[{key:"setNodeRef",value:function(e,t){t&&(this.nodes[e]=t)}},{key:"onLoginSuccess",value:function(e){console.log(e),this.setState({logged:!0,currentProvider:e._provider,user:e})}},{key:"onLoginFailure",value:function(e){console.error(e),this.setState({logged:!1,currentProvider:"",user:{}})}},{key:"onLogoutSuccess",value:function(){this.setState({logged:!1,currentProvider:"",user:{}})}},{key:"onLogoutFailure",value:function(e){console.error(e)}},{key:"logout",value:function(){var e=this.state,t=e.logged,n=e.currentProvider;t&&n&&this.nodes[n].props.triggerLogout()}},{key:"render",value:function(){var e;return this.state.logged?e=o.a.createElement(ce,{user:this.state.user,logout:this.logout}):(e=[o.a.createElement(ge,{provider:"facebook",appId:0x8f40870839fd6,onLoginSuccess:this.onLoginSuccess,onLoginFailure:this.onLoginFailure,onLogoutSuccess:this.onLogoutSuccess,getInstance:this.setNodeRef.bind(this,"facebook"),key:"facebook"},"Login with Facebook"),o.a.createElement(ge,{provider:"google",appId:"9137971612-s5rhj4kmstu603gdk3ndlobruav0fc7d.apps.googleusercontent.com",onLoginSuccess:this.onLoginSuccess,onLoginFailure:this.onLoginFailure,onLogoutSuccess:this.onLogoutSuccess,onLogoutFailure:this.onLogoutFailure,getInstance:this.setNodeRef.bind(this,"google"),key:"google"},"Login with Google")],"https:"===window.location.protocol&&e.push(o.a.createElement(ge,{provider:"amazon",appId:"amzn1.application-oa2-client.e726e756e5c94453836bd8aab285f54b",onLoginSuccess:this.onLoginSuccess,onLoginFailure:this.onLoginFailure,onLogoutSuccess:this.onLogoutSuccess,getInstance:this.setNodeRef.bind(this,"amazon"),key:"amazon"},"Login with Amazon"))),e}}]),t}(a.Component),be=function(){return document.body.style.backgroundColor="black",o.a.createElement("div",{style:he({},te,{padding:"1.5rem 2rem",margin:"5em auto",backgroundColor:"lightblue"})},o.a.createElement("strong",null,"Login:"),o.a.createElement("hr",{style:ne}),o.a.createElement(fe,null))},pe=o.a.createElement(B.a,null,o.a.createElement("div",null,o.a.createElement(_.c,null,o.a.createElement(_.a,{exact:!0,path:"/",component:T}),o.a.createElement(_.a,{path:"/config",component:be}))));i.a.render(pe,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/smart-mirror-core",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/smart-mirror-core","/service-worker.js");G?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):J(t,e)}))}}()}},[[109,1,2]]]);
//# sourceMappingURL=main.543e7c0e.chunk.js.map